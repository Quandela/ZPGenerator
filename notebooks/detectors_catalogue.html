<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Detectors &mdash; ZPGenerator 0.2.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../_static/nbsphinx-code-cells.css" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=938c9ccc"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Photonic Circuits" href="photonic_circuits.html" />
    <link rel="prev" title="Circuits" href="circuits_catalogue.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            ZPGenerator
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="components.html">Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="parameters.html">Parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="pulses.html">Pulses</a></li>
<li class="toctree-l1"><a class="reference internal" href="processors.html">Processors</a></li>
<li class="toctree-l1"><a class="reference internal" href="backend.html">Backend</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Catalogue Components</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="sources_catalogue.html">Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="circuits_catalogue.html">Circuits</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Detectors</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#Number-Resolving">Number-Resolving</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Threshold">Threshold</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Vacuum">Vacuum</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Parity">Parity</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Time-Partition">Time Partition</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Basic Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="photonic_circuits.html">Photonic Circuits</a></li>
<li class="toctree-l1"><a class="reference internal" href="pulsed_sources.html">Pulsed Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="quantum_dots.html">Quantum Dots</a></li>
<li class="toctree-l1"><a class="reference internal" href="cavity_QED.html">Cavity QED</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Advanced Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="fibonacci_states.html">Fibonacci States</a></li>
<li class="toctree-l1"><a class="reference internal" href="wigner_functions.html">Wigner Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="entanglement_generation.html">Entanglement Generation</a></li>
<li class="toctree-l1"><a class="reference internal" href="RUS_gate.html">The RUS Gate</a></li>
<li class="toctree-l1"><a class="reference internal" href="component_construction.html">Component Construction</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Code Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../reference/code_reference.html">Code Reference</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ZPGenerator</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Detectors</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/notebooks/detectors_catalogue.ipynb.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="Detectors">
<h1>Detectors<a class="headerlink" href="#Detectors" title="Link to this heading"></a></h1>
<p>Here we summarise the catalogue detector components and their underlying physical models.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Method</p></th>
<th class="head"><p>Modes</p></th>
<th class="head"><p>Measurement Bins</p></th>
<th class="head"><p>Outcomes</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Photon-number resolving detector</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">pnr</span></code></p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p>3+</p></td>
</tr>
<tr class="row-odd"><td><p>Threshold detector</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">threshold</span></code></p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p>1 or 2</p></td>
</tr>
<tr class="row-even"><td><p>Vacuum detector</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">vacuum</span></code></p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>Parity detector</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">parity</span></code></p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>Time-partition detector</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">partition</span></code></p></td>
<td><p>1</p></td>
<td><p>1+</p></td>
<td><p>1+</p></td>
</tr>
</tbody>
</table>
<p>The above table summarises the number of measurement bins, the number of possible outcomes for each measurement bin, and the number of modes that the detector monitors. The following sections give more details about each detector type.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[28]:
</pre></div>
</div>
<div class="input_area highlight-ipython2 notranslate"><div class="highlight"><pre><span></span>from zpgenerator import *
</pre></div>
</div>
</div>
<section id="Number-Resolving">
<h2>Number-Resolving<a class="headerlink" href="#Number-Resolving" title="Link to this heading"></a></h2>
<p>The photon-number-resolving detector (PNRD) provides the probability <span class="math notranslate nohighlight">\(p(n)\)</span> of observing <span class="math notranslate nohighlight">\(n\)</span> photons at that detector during the detector gate time, and after accounting for detector inefficiency. In practice, the number-resolving detector has a truncation <span class="math notranslate nohighlight">\(N\)</span> above which it cannot resolve the number of photons properly. The implementation of this detector follows the <a class="reference external" href="https://journals.aps.org/pra/abstract/10.1103/PhysRevA.109.023713">ZPG method</a>, where a Fourier transform
is applied to recover the probabilities. A consequence of this approach is that the actual distribution returned by a ‘pnr’ detector is accumulated modulo <span class="math notranslate nohighlight">\(N\)</span>. That is, the outcome <span class="math notranslate nohighlight">\(o(n)\)</span> of the detector is</p>
<div class="math notranslate nohighlight">
\[o(n) = \sum_{k| k~\text{mod}~N = n}p(k)\]</div>
<p>If <span class="math notranslate nohighlight">\(N\)</span> is large enough, then <span class="math notranslate nohighlight">\(o(n)\simeq p(n)\)</span>. Otherwise, there is an apparent aliasing effect in the photon number distribution.</p>
<p>All detectors have an ‘efficiency’ parameter. The default efficiency is 1, unless the object is created using the efficiency keyword.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[29]:
</pre></div>
</div>
<div class="input_area highlight-ipython2 notranslate"><div class="highlight"><pre><span></span>d = Detector.pnr(resolution=1)
d.default_parameters
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[29]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{&#39;efficiency&#39;: 1}
</pre></div></div>
</div>
<p>The resolution should be chosen large enough to trust that the distribution converges to zero.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[30]:
</pre></div>
</div>
<div class="input_area highlight-ipython2 notranslate"><div class="highlight"><pre><span></span>source = Source.shaped_laser(parameters={&#39;amplitude&#39;: 1})
p = Processor() // source // Detector.pnr(resolution=7)
p.probs().display()
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Pattern | Probability
0       | 0.36791
1       | 0.36788
2       | 0.18393
3       | 0.06131
4       | 0.01533
5       | 0.00307
6       | 0.00051
7       | 0.00007

</pre></div></div>
</div>
<p>A resolution that is too small to capture all non-negligible probabilities will be impacted by aliasing (the distribution will ‘wrap around’).</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[31]:
</pre></div>
</div>
<div class="input_area highlight-ipython2 notranslate"><div class="highlight"><pre><span></span>import matplotlib.pyplot as plt
source = Source.shaped_laser(parameters={&#39;amplitude&#39;: 5})
p = Processor() // source // Detector.pnr(resolution=35)
pn = p.probs()
plt.plot(pn.keys(), pn.values())
plt.xlabel(&#39;Number of photons&#39;)
plt.ylabel(&#39;Outcome probability, o(n)&#39;)
plt.show()
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_detectors_catalogue_13_0.png" src="../_images/notebooks_detectors_catalogue_13_0.png" />
</div>
</div>
</section>
<section id="Threshold">
<h2>Threshold<a class="headerlink" href="#Threshold" title="Link to this heading"></a></h2>
<p>In some cases, it is not necessary to fully resolve the number of photons. For example, some post-selected linear-optical gates only require the observation of zero photons. Another example is that of measuring the Hong-Ou-Mandel visibility, where it is only necessary to verify the absence of light to estimate a high indistinguishability. A threshold detector (also called an on/off detector) provides the probability of observing at least one photon at that detector during the detector gate time,
and after accounting for detector inefficiency.</p>
<p>A threshold detector never experiences aliasing because it requires no truncation.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[32]:
</pre></div>
</div>
<div class="input_area highlight-ipython2 notranslate"><div class="highlight"><pre><span></span>source = Source.shaped_laser(parameters={&#39;amplitude&#39;: 1})
p = Processor() // source // Detector.threshold()
p.probs().display()
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Pattern | Probability
0       | 0.36790
1       | 0.63211

</pre></div></div>
</div>
</section>
<section id="Vacuum">
<h2>Vacuum<a class="headerlink" href="#Vacuum" title="Link to this heading"></a></h2>
<p>A vacuum detector is a fictitious detector that returns only the outcome corresponding to measuring zero photons, thus potentially speeding up the simulation. This is particularly useful when looking at the behaviour of a circuit conditioned on that absence of light at a certain detector. However, because it ignores all cases where photons arrived, the resulting distribution is not normalised.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[33]:
</pre></div>
</div>
<div class="input_area highlight-ipython2 notranslate"><div class="highlight"><pre><span></span>source = Source.shaped_laser(parameters={&#39;amplitude&#39;: 2})
p = Processor() // source // Circuit.bs() // (0, Detector.vacuum()) // (1, Detector.pnr(5))
p.probs().display()
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Pattern | Expectation
0 0     | 0.01995
0 1     | 0.03710
0 2     | 0.03675
0 3     | 0.02445
0 4     | 0.01222
0 5     | 0.00488

</pre></div></div>
</div>
</section>
<section id="Parity">
<h2>Parity<a class="headerlink" href="#Parity" title="Link to this heading"></a></h2>
<p>As introduced in the <a class="reference internal" href="wigner_functions.html"><span class="doc">Wigner Functions</span></a> advanced tutorial, the parity detector returns the parity expectation value of the detected photon number distribution. This can be used to obtain the value of the light’s Wigner function at the origin of phase space.</p>
<p>Instead of an integer, the outcome of the parity detector is labeled with ‘p’.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[34]:
</pre></div>
</div>
<div class="input_area highlight-ipython2 notranslate"><div class="highlight"><pre><span></span>source = Source.shaped_laser(parameters={&#39;amplitude&#39;: 1})
p = Processor() // source // Circuit.bs() // Detector.parity()
p.probs().display()
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Pattern | Expectation
p       | 0.36790

</pre></div></div>
</div>
<p>The parity detector can also be combined with the ‘pnr’ detector type to get conditional measurements of the parity expectation value.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[35]:
</pre></div>
</div>
<div class="input_area highlight-ipython2 notranslate"><div class="highlight"><pre><span></span>source = Source.shaped_laser(parameters={&#39;amplitude&#39;: 1})
p = Processor() // Source.fock(1) // Circuit.bs() // Detector.parity() // (1, Detector.pnr(3))
pn = p.probs()
pn.display()
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Pattern | Expectation
p 0     | -0.50000
p 1     | 0.50000

</pre></div></div>
</div>
<p>By splitting a photon on a beam splitter, we can see that the sign of the parity of the first output depends on the number of photons detected at the second output. These values are also multiplied by the probability of detection, which is 1/2 for each outcome using a balanced beam splitter.</p>
</section>
<section id="Time-Partition">
<h2>Time Partition<a class="headerlink" href="#Time-Partition" title="Link to this heading"></a></h2>
<p>Many simulations of photonic experiments consider correlations between light emitted at different times. For example, see the <a class="reference internal" href="fibonacci_states.html"><span class="doc">Fibonacci States</span></a> and <a class="reference internal" href="entanglement_generation.html"><span class="doc">Entanglment Generation</span></a> tutorials. The way this can be done in ZPGenerator is to add a detector that partitions time into different bins.</p>
<p>To partition time, we can simply pass a list of times that define the thresholds between time bins. When photons are detected among these thresholds will determine which bin they will be tallied into. Note that photons that arrive anytime before the first threshold are neglected but photons that arrive anytime after the last threshold will be put into the last bin. Thus, there are as many bins as there are thresholds.</p>
<p>Let’s split a single photon into four bins defined by intervals (0, 1), (1, 2), (2, 3), and (3, <span class="math notranslate nohighlight">\(\infty\)</span>).</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[36]:
</pre></div>
</div>
<div class="input_area highlight-ipython2 notranslate"><div class="highlight"><pre><span></span>d = Detector.partition(thresholds=[0, 1, 2, 3])
p = Processor() // Source.fock(1) // d
p.probs().display()
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Pattern | Probability
1 0 0 0 | 0.63212
0 0 1 0 | 0.08555
0 1 0 0 | 0.23254
0 0 0 1 | 0.04979

</pre></div></div>
</div>
<p>This shows that single photons display single-particle anti-bunching in time as well (in addition to the common spatial description using the Hanbury and Brown Twiss setup). Coherent states display no such behaviour.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[37]:
</pre></div>
</div>
<div class="input_area highlight-ipython2 notranslate"><div class="highlight"><pre><span></span>d = Detector.partition(thresholds=[0, 1, 2, 3])
p = Processor() // Source.shaped_laser(parameters={&#39;amplitude&#39;:1}) // d
p.probs().display()
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Pattern | Probability
0 0 0 0 | 0.45817
1 0 0 0 | 0.25635
0 0 1 0 | 0.03910
1 0 1 0 | 0.02188
0 1 0 0 | 0.10466
1 1 0 0 | 0.05856
0 1 1 0 | 0.00893
1 1 1 0 | 0.00500
0 0 0 1 | 0.02277
1 0 0 1 | 0.01274
0 0 1 1 | 0.00194
1 0 1 1 | 0.00109
0 1 0 1 | 0.00520
1 1 0 1 | 0.00291
0 1 1 1 | 0.00044
1 1 1 1 | 0.00025

</pre></div></div>
</div>
<p>If one requires the time bins to not be adjacent, the explicit intervals can also be given as a list of lists.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[38]:
</pre></div>
</div>
<div class="input_area highlight-ipython2 notranslate"><div class="highlight"><pre><span></span>d = Detector.partition(thresholds=[[0, 0.5], [1, float(&#39;inf&#39;)]])
p = Processor() // Source.fock(1) // d
p.probs().display()
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Pattern | Probability
0 0     | 0.23865
1 0     | 0.39347
0 1     | 0.36788

</pre></div></div>
</div>
<p>Note that in this case there is a probability of observing no photons because there is a chance they are emitted between the two time bins (between <span class="math notranslate nohighlight">\(t=0.5\)</span> and <span class="math notranslate nohighlight">\(t=1\)</span>).</p>
<p>The measurement within each bin defaults to behave like a threshold detector, but we can specify a resolution to get number-resolving behaviour as well. Note that the resolution is applied to all detectors.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[39]:
</pre></div>
</div>
<div class="input_area highlight-ipython2 notranslate"><div class="highlight"><pre><span></span>d = Detector.partition(thresholds=[0, 1], resolution=2)
p = Processor() // Source.fock(2) // d
p.probs().display()
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Pattern | Probability
2 0     | 0.39958
1 1     | 0.46509
0 2     | 0.13533

</pre></div></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="circuits_catalogue.html" class="btn btn-neutral float-left" title="Circuits" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="photonic_circuits.html" class="btn btn-neutral float-right" title="Photonic Circuits" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Quandela.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>